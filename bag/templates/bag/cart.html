{% extends 'bag/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'bag/css/cart.css' %}">

<h2 class="page-title">ðŸ›’ Your Cart</h2>

{% if products %}

<form class="cart-wrapper">

<div class="cart-container">

{% for product in products %}
<div class="cart-item">

    <div class="cart-img">
        <a href="{% url 'product_detail' product.id %}">
            <img src="{{ product.image.url }}">
        </a>
    </div>

    <div class="cart-info">
        <h3>{{ product.name }}</h3>
        <p>Price: â‚¹{{ product.price }}</p>

        <div class="qty-box">
            <a href="{% url 'update_cart_quantity' product.id 'decrement' %}" class="qty-btn">-</a>
            <span>{{ product.qty }}</span>
            <a href="{% url 'update_cart_quantity' product.id 'increment' %}" class="qty-btn">+</a>
        </div>

        <p>Subtotal: â‚¹{{ product.subtotal }}</p>

        <a href="{% url 'remove_from_cart' product.id %}" class="remove-btn">Remove</a>
    </div>

</div>
{% endfor %}

<div class="cart-total">
    <h3>Total: â‚¹{{ total }}</h3>
    <a href="{% url 'checkout' %}" class="checkout-btn">Place Order</a>
</div>

</div>
</form>

{% else %}

<div class="empty-cart">
    <div class="empty-box">
        <p>Your cart is currently empty</p>
        <a href="{% url 'products' %}" class="shop-btn">Continue Shopping</a>
    </div>
</div>

{% endif %}

{% endblock %}
