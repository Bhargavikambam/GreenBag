{% extends 'bag/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'bag/css/search.css' %}">
{% endblock %}

{% block content %}

<div class="search-page">

    <h2 class="search-title">üîç Search results for "{{ query }}"</h2>

    {% if products %}
    <h3 class="section-heading">Matching Products</h3>

    <div class="product-grid">
        {% for product in products %}
        <div class="product-card">
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
            <h4>{{ product.name }}</h4>
            <p class="price">‚Çπ{{ product.price }}</p>
            <a href="{% url 'add_to_cart' product.id %}" class="btn">Add to Cart</a>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if similar_products %}
    <h3 class="section-heading">Similar Products</h3>

    <div class="product-grid">
        {% for product in similar_products %}
        <div class="product-card">
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
            <h4>{{ product.name }}</h4>
            <p class="price">‚Çπ{{ product.price }}</p>
            <a href="{% url 'add_to_cart' product.id %}" class="btn">Add to Cart</a>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if not products and not similar_products %}
    <p class="no-results">üòî No products found.</p>
    {% endif %}

</div>

{% endblock %}
